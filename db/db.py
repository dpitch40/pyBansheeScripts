import abc

from core.metadata import Metadata
from core.mw import MappingWrapper

class MusicDb(abc.ABC, Metadata):
    """Base class for metadata derived from a database/data file, e.g. one generated by a music player."""

    all_keys = Metadata.all_keys + ('location',
                                    'bitrate'
                                    'rating',
                                    'play_count',
                                    'skip_count',
                                    'last_played',
                                    'last_skipped',
                                    'date_added')

    read_only_keys = Metadata.read_only_keys + ('bitrate',) # Location not read-only

    def __init__(self, d):
        super(MusicDb, self).__init__(d)

    @abc.abstractmethod
    def save(self):
        raise NotImplementedError

    @classmethod
    @abc.abstractmethod
    def commit(self):
        raise NotImplementedError

    @classmethod
    @abc.abstractmethod
    def load_all(self):
        raise NotImplementedError
